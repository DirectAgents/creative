function LogoBubbles(e){function o(){t.vertShrink=h(1e3,800,window.innerHeight),t.vertShrink=p(t.vertShrink,0,1)}function u(){var e=t.container.getBoundingClientRect();(e.bottom<0||e.top>window.innerHeight)&&t.playing==1?t.playing=!1:e.bottom>0&&e.top<window.innerHeight&&t.playing==0&&(t.playing=!0,requestAnimationFrame(t.tick))}function a(e){var n=e.x+e.noiseX+t.scrollX,r=e.y+e.noiseY;r=c(r,t.containerHeight/2,t.vertShrink*t.maxShrink),n<-200&&(e.x+=t.containerWidth);var i=l(e.introProgress)/20+.95;i*=e.scale,e.el.style.opacity=l(e.introProgress),e.el.style.transform="translate("+n+"px, "+r+"px) scale("+i+")"}function f(e){var t=0,n=0,r=null;for(t=e.length-1;t>0;t-=1)n=Math.floor(Math.random()*(t+1)),r=e[t],e[t]=e[n],e[n]=r}function l(e){return e<.5?2*e*e:-1+(4-2*e)*e}function c(e,t,n){return e*(1-n)+t*n}function h(e,t,n){return(n-e)/(t-e)}function p(e,t,n){return Math.max(Math.min(e,n),t)}var t=this;for(i in e)t[i]=e[i];t.container=document.querySelector(t.containerSelector),t.noiseT=0,t.scrollX=0,t.logos.forEach(function(e,n){t.logos[n]={index:n,title:e}}),f(t.logos),t.vertShrink=0,o(),window.addEventListener("resize",o),t.playing=!0,u(),window.addEventListener("scroll",u),t.logosLoaded=!1;var n="(-webkit-min-device-pixel-ratio: 1.3), (min-resolution: 120dpi)";t.isRetina=window.devicePixelRatio>1?!0:window.matchMedia&&window.matchMedia(n).matches?!0:!1;var r=new Image;r.src="/img/v3/gallery/logos/header-logos"+(t.isRetina?"@2x.png?2":".png?2"),r.onload=function(){t.logosLoaded=!0};for(var i=0;i<t.bubbles.length;i++){var s=t.bubbles[i];s.scale=s.s||1,s.seedX=Math.random()*1e4,s.seedY=Math.random()*1e4,s.noiseX=s.noiseY=0,s.introDelay=Math.random()*t.introDelay,s.introProgress=0,s.el=document.createElement("div"),s.el.className=t.classPrefix+t.logos[i].index,s.tagEl=document.createElement("span"),s.tagEl.innerHTML=t.logos[i].title,s.el.appendChild(s.tagEl),a(s),t.container.appendChild(s.el)}t.firstTick=null,t.lastTick=0,t.tick=function(e){t.firstTick||(t.firstTick=e),e-=t.firstTick;var n=e-t.lastTick;t.lastTick=e,t.noiseT+=n*t.noiseSpeed,t.scrollX-=n*t.scrollSpeed;for(var r=0;r<t.bubbles.length;r++){var i=t.bubbles[r];i.noiseX=noise(i.seedX+t.noiseT)*t.noiseScale-t.noiseScale/2,i.noiseY=noise(i.seedY+t.noiseT)*t.noiseScale-t.noiseScale/2,t.logosLoaded&&i.introProgress<1&&e>i.introDelay&&(i.introProgress=Math.min(1,i.introProgress+n/t.introDuration)),a(i)}t.playing&&requestAnimationFrame(t.tick)}};